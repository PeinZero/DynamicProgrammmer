<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <title>Partition Problem</title>
</head>
<body>
    <div class="wrapper">
        <div class="heading">
            <h1>Select Any Sample Input</h1>
        </div>
        <div class="back-btn">BACK</div>
        <hr class="line">
        <ul class="sampleContainer">
            
            
        </ul>
        <div class="heading" style="margin-top:70px">
            <h1>Output</h1>
        </div>
        <hr class="line">
        <div class="output" id="down-here">
            <div>Result:<span id="final-output"></span></div>
            <div>Time Taken:<span id="final-time"></span> </div>
        </div>
        <br>
    </div>
    <script>
        const {ipcRenderer} = require('electron')
        var samples = require('../AlgoSampleInputs/LisMcmPp.json')
        const ul = document.querySelector('.sampleContainer')

        var count = 0
        samples.forEach( singleSample => {
            const li = document.createElement('li')
            const div = document.createElement('div')
            count = count + 1
            div.innerHTML = 'Sequence: ' + singleSample.sample
            var id = 'div' + count;
            div.setAttribute("id", id)
            li.appendChild(div)
            li.className = 'sample s' + count
            li.setAttribute("onclick", "location.href = '#down-here' ")
            ul.appendChild(li);
        })

        document.querySelector(".back-btn").addEventListener('click' , e =>{
            ipcRenderer.send('back')
        })

        const box = document.querySelector(".sampleContainer")

        box.addEventListener('click' , e => {
            if (e.target.className !=='sampleContainer'){
                if (e.target.className === 'sample s1' || e.target.id ==='div1'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[0],
                    })
                }
                else if (e.target.className === 'sample s2' || e.target.id ==='div2'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[1],
                    })
                }
                else if (e.target.className === 'sample s3' || e.target.id ==='div3'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[2],
                    })
                }
                else if (e.target.className === 'sample s4' || e.target.id ==='div4'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[3],
                    })
                }
                else if (e.target.className === 'sample s5' || e.target.id ==='div5'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[4],
                    })
                }
                else if (e.target.className === 'sample s6' || e.target.id ==='div6'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[5],
                    })
                }
                else if (e.target.className === 'sample s7' || e.target.id ==='div7'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[6],
                    })
                }
                else if (e.target.className === 'sample s8' || e.target.id ==='div8'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[7],
                    })
                }
                else if (e.target.className === 'sample s9' || e.target.id ==='div9'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[8],
                    })
                }
                else if (e.target.className === 'sample s10' || e.target.id ==='div10'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"PP",
                        content:samples[9],
                    })
                }
            }
        })

        let temp = document.getElementById('final-output')
        ipcRenderer.on('pp:done' , (e,answer) => {
            if(answer.result !== false){
                temp.innerHTML = "It's Possible To Partition The Matrix"
                temp.style.color = "green"
                document.getElementById('final-time').innerHTML = answer.time
            }
            else{
                temp.innerHTML = "Not Possible To Partition The Matrix"
                temp.style.color = "red"
                document.getElementById('final-time').innerHTML = answer.time
            }
        })

    </script>
</body>
</html>