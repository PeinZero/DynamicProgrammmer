<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <title>Rod Cutting Problem</title>
</head>
<body>
    <div class="wrapper">
        <div class="heading">
            <h1>Select Any Sample Input</h1>
        </div>
        <div class="back-btn">BACK</div>
        <hr class="line">
        <ul class="sampleContainer">
            
            
        </ul>
        <div class="heading" style="margin-top:70px">
            <h1>Output</h1>
        </div>
        <hr class="line">
        <div class="output" id="down-here">
            <div>Max Price:<span id="final-output"></span></div>
            <div>Time Taken:<span id="final-time"></span> </div>
        </div>
        <br>
    </div>
    <script>
        const {ipcRenderer} = require('electron')
        var samples = require('../AlgoSampleInputs/Rcp.json')
        const ul = document.querySelector('.sampleContainer')

        var count = 0
        samples.forEach( singleSample => {
            const li = document.createElement('li')
            const div1 = document.createElement('div')
            const div2 = document.createElement('div')
            const div3 = document.createElement('div')
            count = count + 1
            div1.innerHTML = 'Prices: ' + singleSample.price
            div2.innerHTML = 'Lengths: ' + singleSample.length
            div3.innerHTML = 'Max Length: ' + singleSample.maxLength
            var id1 = 'div1' + count;
            var id2 = 'div2' + count;
            var id3 = 'div3' + count;
            div1.setAttribute("id", id1)
            div2.setAttribute("id", id2)
            div3.setAttribute("id", id3)
            li.appendChild(div1)
            li.appendChild(div2)
            li.appendChild(div3)
            li.className = 'sample s' + count
            li.setAttribute("onclick", "location.href = '#down-here' ")
            ul.appendChild(li);
        })

        document.querySelector(".back-btn").addEventListener('click' , e =>{
            ipcRenderer.send('back')
        })

        const box = document.querySelector(".sampleContainer")

        box.addEventListener('click' , e => {
            if (e.target.className !=='sampleContainer'){
                if (e.target.className === 'sample s1' || e.target.id ==='div11' ||  e.target.id ==='div21' || e.target.id === 'div31'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[0],
                    })
                }
                else if (e.target.className === 'sample s2' || e.target.id ==='div12' ||  e.target.id ==='div22' || e.target.id === 'div32'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[1],
                    })
                }
                else if (e.target.className === 'sample s3' || e.target.id ==='div13' ||  e.target.id ==='div23' || e.target.id === 'div33'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[2],
                    })
                }
                else if (e.target.className === 'sample s4' || e.target.id ==='div14' ||  e.target.id ==='div24' || e.target.id === 'div34'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[3],
                    })
                }
                else if (e.target.className === 'sample s5' || e.target.id ==='div15' ||  e.target.id ==='div25' || e.target.id === 'div35'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[4],
                    })
                }
                else if (e.target.className === 'sample s6' || e.target.id ==='div16' ||  e.target.id ==='div26' || e.target.id === 'div36'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[5],
                    })
                }
                else if (e.target.className === 'sample s7' || e.target.id ==='div17' ||  e.target.id ==='div27' || e.target.id === 'div37'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[6],
                    })
                }
                else if (e.target.className === 'sample s8' || e.target.id ==='div18' ||  e.target.id ==='div28' || e.target.id === 'div38'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[7],
                    })
                }
                else if (e.target.className === 'sample s9' || e.target.id ==='div19' ||  e.target.id ==='div29' || e.target.id === 'div39'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[8],
                    })
                }
                else if (e.target.className === 'sample s10' || e.target.id ==='div110' ||  e.target.id ==='div210' || e.target.id === 'div310'){
                    ipcRenderer.send('ExecuteAlgo', {  
                        algo:"RCP",
                        content:samples[9],
                    })
                }
            }
        })

        ipcRenderer.on('rcp:done' , (e,answer) => {
            document.getElementById('final-output').innerHTML = answer.result
            document.getElementById('final-time').innerHTML = answer.time
        })

    </script>
</body>
</html>